</div>
        
        <div class="input-section">
            <label class="input-label">–ö–æ–¥ –≤ —Ñ–æ—Ä–º–∞—Ç–µ:</label>
            <input 
                type="text" 
                class="code-input" 
                id="codeInput" 
                placeholder="002168"
                maxlength="6"
                inputmode="numeric"
                pattern="[0-9]*"
            >
            <div class="example">–Ω–æ–º–µ—Ä –º–∞—Ä—à—Ä—É—Ç–∞ + –Ω–æ–º–µ—Ä –∞–≤—Ç–æ–±—É—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä 002168)</div>
        </div>
        
        <div class="section">
            <div class="section-title">–ì–æ—Ä–æ–¥—Å–∫–æ–π –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç:</div>
            <div class="option" onclick="selectOption(this)">–ì–æ—Ä–æ–¥—Å–∫–æ–π –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</div>
        </div>
        
        <div class="section">
            <div class="section-title">–°–ø–æ—Å–æ–± –ø–æ–∫—É–ø–∫–∏:</div>
            <div class="option" onclick="selectOption(this)">–ö—É–ø–∏—Ç—å –±–∏–ª–µ—Ç</div>
        </div>
        
        <button class="buy-button" id="buyButton" onclick="processPurchase()" disabled>
            –ö—É–ø–∏—Ç—å –±–∏–ª–µ—Ç
        </button>
        
        <div class="ticket-preview" id="ticketPreview">
            <div class="ticket-line"><span class="ticket-emoji">‚úÖ</span> –ë–∏–ª–µ—Ç –∫—É–ø–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ.</div>
            <div class="ticket-line">–û–û–û "–°–ö–ê–î"</div>
            <div class="ticket-line"><span class="ticket-emoji">üöè</span> 90 –ê–∫. –±–∏–∞—Ç–ª–æ–Ω–∞-–í–µ—Ä—Ö–Ω. –ë–∞–∑–∞–∏—Ö–∞</div>
            <div class="ticket-line"><span class="ticket-emoji">üöå</span> –º430—Ç–∞124</div>
            <div class="ticket-line"><span class="ticket-emoji">ü™ô</span> –¢–∞—Ä–∏—Ñ: –ü–æ–ª–Ω—ã–π 48,00 ‚ÇΩ</div>
            <div class="ticket-line"><span class="ticket-emoji">üé´</span> –ë–∏–ª–µ—Ç ‚Ññ 1 248 585 367</div>
            <div class="ticket-line"><span class="ticket-emoji">üïë</span> –î–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ 21:12</div>
        </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        tg.expand();
        tg.enableClosingConfirmation();
        
        let selectedOptions = 0;
        
        function selectOption(element) {
            if (!element.classList.contains('selected')) {
                element.classList.add('selected');
                selectedOptions++;
            }
            checkFormValidity();
        }
        
        function checkFormValidity() {
            const code = document.getElementById('codeInput').value;
            const buyButton = document.getElementById('buyButton');
            
            if (code.length === 6 && selectedOptions === 2) {
                buyButton.disabled = false;
            } else {
                buyButton.disabled = true;
            }
        }
        
        function processPurchase() {
            const code = document.getElementById('codeInput').value;
            const ticketPreview = document.getElementById('ticketPreview');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–µ–≤—å—é –±–∏–ª–µ—Ç–∞
            ticketPreview.style.display = 'block';
            
            // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ –±–∏–ª–µ—Ç—É
            ticketPreview.scrollIntoView({ behavior: 'smooth' });
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                const data = {
                    code: code,
                    action: 'buy_ticket',
                    timestamp: new Date().toISOString()
                };
                
                tg.sendData(JSON.stringify(data));
            }, 2000);
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ —Ñ–æ—Ä–º—ã –ø—Ä–∏ –≤–≤–æ–¥–µ –∫–æ–¥–∞
        document.getElementById('codeInput').addEventListener('input', function(e) {
            // –†–∞–∑—Ä–µ—à–∞–µ–º —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã
            this.value = this.value.replace(/\D/g, '');
            checkFormValidity();
        });
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è Enter
        document.getElementById('codeInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkFormValidity();
            }
        });
    </script>
</body>
</html>
